// AG Grid Minted Theme - Custom CSS overrides
// All base theming is handled by the v35 Theming API (themeQuartz.withParams)
// These are fine-grained overrides for styling the API doesn't expose

// Use ::ng-deep to pierce Angular's view encapsulation for AG Grid DOM
:host ::ng-deep {

  // Header text styling
  .ag-header-cell-text {
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.75rem;
  }

  // Header hover
  .ag-header-cell:hover {
    background-color: var(--minted-bg-hover);
  }

  // Remove column separator & resize handle visibility
  .ag-header-cell::after {
    display: none;
  }

  // Row transitions
  .ag-row {
    transition: background-color 0.15s ease;

    &.ag-row-focus::before {
      display: none;
    }
  }

  // Remove cell focus outline
  .ag-cell-focus,
  .ag-cell-no-focus {
    border: none !important;
  }

  // Actions cell alignment
  .ag-cell-actions {
    justify-content: flex-end;
  }

  // Vertical center helper
  .cell-v-center {
    align-content: center !important;
  }

  // Pagination panel
  .ag-paging-panel {
    border-top: 1px solid var(--minted-border-light);
    padding: 0.75rem 1.25rem;
    font-size: 0.8125rem;
    min-height: 48px;
  }

  .ag-paging-row-summary-panel {
    font-size: 0.8125rem;

    .ag-paging-row-summary-panel-number {
      font-weight: 600;
      color: var(--minted-text-primary);
    }
  }

  .ag-paging-page-summary-panel {
    gap: 0.25rem;
  }



  // Page description
  .ag-paging-description {
    font-size: 0.8125rem;
  }

  // Page size dropdown
  .ag-paging-page-size {
    font-size: 0.8125rem;
    gap: 0.5rem;
  }

  // Scrollbar
  .ag-body-horizontal-scroll-viewport,
  .ag-body-viewport {
    &::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: var(--minted-bg-surface);
    }

    &::-webkit-scrollbar-thumb {
      background-color: var(--minted-scrollbar-thumb);
      border-radius: 4px;

      &:hover {
        background-color: var(--minted-scrollbar-hover);
      }
    }
  }

  // Sort icons
  .ag-icon-asc,
  .ag-icon-desc {
    color: var(--minted-accent);
  }

  .ag-header-icon {
    color: var(--minted-text-muted);
    font-size: 0.75rem;
  }

  .ag-header-cell:hover .ag-header-icon {
    color: var(--minted-text-secondary);
  }

  // Loading & No Rows overlays
  .ag-overlay-loading-wrapper {
    background-color: var(--minted-bg-card);
    opacity: 0.9;
  }

  .ag-overlay-no-rows-center {
    color: var(--minted-text-secondary);
    font-size: 0.875rem;
    padding: 2rem;
  }

  // Selection checkbox margin
  .ag-selection-checkbox {
    margin-right: 0;
  }

  // PrimeNG round icon button overrides within cells
  .p-button.p-button-rounded {
    width: 2rem;
    height: 2rem;
    padding: 0;
  }

  .p-button.p-button-text {
    color: var(--minted-text-secondary);
    background: transparent;

    &:enabled:hover {
      background-color: var(--minted-bg-hover);
      color: var(--minted-accent);
    }

    &.p-button-danger:enabled:hover {
      background-color: var(--minted-danger-subtle);
      color: var(--minted-danger);
    }
  }

}

// Semantic utility classes (used via cellClass)
.text-success {
  color: var(--minted-success);
}

.text-primary {
  color: var(--minted-accent);
}

.bg-primary\/10 {
  background-color: var(--minted-accent-subtle);
}

.border-primary\/20 {
  border-color: var(--minted-accent-subtle);
}

.hover\:text-primary:hover {
  color: var(--minted-accent);
}